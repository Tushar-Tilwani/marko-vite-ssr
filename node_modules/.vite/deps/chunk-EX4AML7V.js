import {
  require_KeySequence
} from "./chunk-2APR2CPO.js";
import {
  require_extend
} from "./chunk-3BN66U4C.js";
import {
  require_complain
} from "./chunk-AUY6IS4O.js";
import {
  require_event_delegation
} from "./chunk-CNQJXT2F.js";
import {
  require_index_browser
} from "./chunk-XOFOD672.js";
import {
  __commonJS
} from "./chunk-VUNV25KB.js";

// node_modules/warp10/src/constants.js
var require_constants = __commonJS({
  "node_modules/warp10/src/constants.js"(exports) {
    var win = typeof window !== "undefined" ? window : global;
    exports.NOOP = win.$W10NOOP = win.$W10NOOP || function() {
    };
  }
});

// node_modules/warp10/constants.js
var require_constants2 = __commonJS({
  "node_modules/warp10/constants.js"(exports, module) {
    module.exports = require_constants();
  }
});

// node_modules/marko/src/runtime/helpers/serialize-noop.js
var require_serialize_noop = __commonJS({
  "node_modules/marko/src/runtime/helpers/serialize-noop.js"(exports) {
    var w10NOOP = require_constants2().NOOP;
    exports.___noop = w10NOOP;
    exports.___toJSON = function() {
      return w10NOOP;
    };
  }
});

// node_modules/marko/src/runtime/components/ComponentDef.js
var require_ComponentDef = __commonJS({
  "node_modules/marko/src/runtime/components/ComponentDef.js"(exports, module) {
    "use strict";
    var complain = require_complain();
    var extend = require_extend();
    var componentUtil = require_index_browser();
    var w10NOOP = require_serialize_noop().___noop;
    var attachBubblingEvent = componentUtil.___attachBubblingEvent;
    var addDelegatedEventHandler = require_event_delegation().___addDelegatedEventHandler;
    var KeySequence = require_KeySequence();
    var EMPTY_OBJECT = {};
    var FLAG_WILL_RERENDER_IN_BROWSER = 1;
    var FLAG_HAS_RENDER_BODY = 2;
    var FLAG_IS_LEGACY = 4;
    var FLAG_OLD_HYDRATE_NO_CREATE = 8;
    function ComponentDef(component, componentId, componentsContext) {
      this.___componentsContext = componentsContext;
      this.___component = component;
      this.id = componentId;
      this.___domEvents = void 0;
      this.___isExisting = false;
      this.___renderBoundary = false;
      this.___flags = 0;
      this.___nextIdIndex = 0;
      this.___keySequence = null;
    }
    ComponentDef.prototype = {
      ___nextKey: function(key) {
        return (this.___keySequence || (this.___keySequence = new KeySequence())).___nextKey(key);
      },
      /**
       * This helper method generates a unique and fully qualified DOM element ID
       * that is unique within the scope of the current component.
       */
      elId: function(nestedId) {
        var id = this.id;
        if (nestedId == null) {
          return id;
        } else {
          if (typeof nestedId !== "string") {
            if ("MARKO_DEBUG") {
              complain("Using non strings as keys is deprecated.");
            }
            nestedId = String(nestedId);
          }
          if (nestedId.indexOf("#") === 0) {
            id = "#" + id;
            nestedId = nestedId.substring(1);
          }
          return id + "-" + nestedId;
        }
      },
      /**
       * Returns the next auto generated unique ID for a nested DOM element or nested DOM component
       */
      ___nextComponentId: function() {
        return this.id + "-c" + this.___nextIdIndex++;
      },
      d: function(eventName, handlerMethodName, isOnce, extraArgs) {
        addDelegatedEventHandler(eventName);
        return attachBubblingEvent(this, handlerMethodName, isOnce, extraArgs);
      },
      get ___type() {
        return this.___component.___type;
      }
    };
    ComponentDef.prototype.nk = ComponentDef.prototype.___nextKey;
    ComponentDef.___deserialize = function(o, types, global2, registry) {
      var id = o[0];
      var typeName = types[o[1]];
      var input = o[2] || null;
      var extra = o[3] || EMPTY_OBJECT;
      var state = extra.s;
      var componentProps = extra.w || EMPTY_OBJECT;
      var flags = extra.f;
      var isLegacy = flags & FLAG_IS_LEGACY;
      var renderBody = flags & FLAG_HAS_RENDER_BODY ? w10NOOP : extra.r;
      var component = typeName && registry.___createComponent(typeName, id, isLegacy);
      component.___updateQueued = true;
      component.___global = global2;
      if (isLegacy) {
        component.widgetConfig = componentProps;
        component.___widgetBody = renderBody;
      } else if (renderBody) {
        (input || (input = {})).renderBody = renderBody;
      }
      if (!isLegacy && flags & FLAG_WILL_RERENDER_IN_BROWSER && !(flags & FLAG_OLD_HYDRATE_NO_CREATE)) {
        if (component.onCreate) {
          component.onCreate(input, { global: global2 });
        }
        if (component.onInput) {
          input = component.onInput(input, { global: global2 }) || input;
        }
      } else {
        if (state) {
          var undefinedPropNames = extra.u;
          if (undefinedPropNames) {
            undefinedPropNames.forEach(function(undefinedPropName) {
              state[undefinedPropName] = void 0;
            });
          }
          component.state = state;
        }
        if (!isLegacy && componentProps) {
          extend(component, componentProps);
        }
      }
      component.___input = input;
      if (extra.b) {
        component.___bubblingDomEvents = extra.b;
      }
      var scope = extra.p;
      var customEvents = extra.e;
      if (customEvents) {
        component.___setCustomEvents(customEvents, scope);
      }
      return {
        id,
        ___component: component,
        ___domEvents: extra.d,
        ___flags: extra.f || 0
      };
    };
    module.exports = ComponentDef;
  }
});

export {
  require_constants,
  require_serialize_noop,
  require_ComponentDef
};
//# sourceMappingURL=chunk-EX4AML7V.js.map
